(()=>{"use strict";var e,t,l,s={2767:(e,t,l)=>{var s=l(6540),i=l(4976),n=l(5338),r=l(9716),o=l(4448),d=l(7767),a=l(763),h=l(6052),c=l(2431),m=l(8032),p=l(5615),x=l(4848);function j(){var e=(0,d.Zp)(),[t]=(0,i.ok)();return(0,x.jsxs)(a.A,{children:[(0,x.jsx)(a.A.Header,{as:"h5",children:"Filter"}),(0,x.jsx)(a.A.Body,{children:(0,x.jsxs)(a.A.Text,{children:["Currently Employed:"," ",(0,x.jsxs)("select",{value:t.get("employed")||"",onChange:t=>e(t.target.value?"/employees?employed=".concat(t.target.value):"/employees"),children:[(0,x.jsx)("option",{value:"",children:"All"}),(0,x.jsx)("option",{value:"true",children:"Employed"}),(0,x.jsx)("option",{value:"false",children:"Not Employed"})]})]})})]})}var u=l(3048),y=l(4479),A=l(1105);class f extends s.Component{constructor(){super(),this.state={modalVisible:!1},this.handleSubmit=this.handleSubmit.bind(this),this.handleShowModal=this.handleShowModal.bind(this),this.handleHideModal=this.handleHideModal.bind(this)}handleShowModal(){this.setState({modalVisible:!0})}handleHideModal(){this.setState({modalVisible:!1})}handleSubmit(e){var t=document.forms.employeeAdd,l={name:t.name.value,extension:t.ext.value,email:t.email.value,title:t.title.value};this.props.createEmployee(l),t.name.value="",t.ext.value="",t.email.value="",t.title.value="",this.setState({modalVisible:!1})}render(){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"addEmployee",children:(0,x.jsx)(p.A,{variant:"primary",size:"sm",onClick:this.handleShowModal,children:"New Employee"})}),(0,x.jsxs)(m.A,{show:this.state.modalVisible,onHide:this.handleHideModal,centered:!0,children:[(0,x.jsx)(m.A.Header,{closeButton:!0,children:(0,x.jsx)(m.A.Title,{children:"Add New Employee"})}),(0,x.jsx)(m.A.Body,{children:(0,x.jsx)(u.A,{fluid:!0,children:(0,x.jsxs)("form",{name:"employeeAdd",children:[(0,x.jsxs)(y.A,{children:[(0,x.jsx)(A.A,{md:3,children:"Name:"}),(0,x.jsx)(A.A,{md:"auto",children:(0,x.jsx)("input",{type:"text",name:"name"})})]}),(0,x.jsxs)(y.A,{children:[(0,x.jsx)(A.A,{md:3,children:"Extension:"}),(0,x.jsx)(A.A,{md:"auto",children:(0,x.jsx)("input",{type:"text",name:"ext",maxLength:4})})]}),(0,x.jsxs)(y.A,{children:[(0,x.jsx)(A.A,{md:3,children:"Email:"}),(0,x.jsx)(A.A,{md:"auto",children:(0,x.jsx)("input",{type:"text",name:"email"})})]}),(0,x.jsxs)(y.A,{children:[(0,x.jsx)(A.A,{md:3,children:"Title:"}),(0,x.jsx)(A.A,{md:"auto",children:(0,x.jsx)("input",{type:"text",name:"title"})})]})]})})}),(0,x.jsx)(m.A.Footer,{children:(0,x.jsx)(p.A,{type:"submit",variant:"success",size:"sm",className:"mt-4",onClick:this.handleSubmit,children:"Add Employee"})})]})]})}}function b(e){var{search:t}=(0,d.zy)(),l=new URLSearchParams(t).get("employed"),s=e.employees.filter((e=>!l||String(e.currentlyEmployed)===l)).map((t=>(0,x.jsx)(v,{employee:t,deleteEmployee:e.deleteEmployee},t._id)));return(0,x.jsxs)(a.A,{children:[(0,x.jsxs)(a.A.Header,{as:"h5",children:["All Employees ",(0,x.jsx)(h.A,{bg:"secondary",children:s.length})]}),(0,x.jsx)(a.A.Body,{children:(0,x.jsx)(a.A.Text,{children:(0,x.jsxs)(c.A,{striped:!0,size:"sm",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"Name"}),(0,x.jsx)("th",{children:"Extension"}),(0,x.jsx)("th",{children:"Email"}),(0,x.jsx)("th",{children:"Title"}),(0,x.jsx)("th",{children:"Date Hired"}),(0,x.jsx)("th",{children:"Currently Employed?"}),(0,x.jsx)("th",{})]})}),(0,x.jsx)("tbody",{children:s})]})})})]})}class v extends s.Component{constructor(){super(),this.state={modalVisible:!1},this.onDeleteClick=this.onDeleteClick.bind(this),this.toggleModal=this.toggleModal.bind(this)}toggleModal(){this.setState((e=>({modalVisible:!e.modalVisible})))}onDeleteClick(){this.props.deleteEmployee(this.props.employee._id),this.toggleModal()}render(){var{employee:e}=this.props;return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)(i.N_,{to:"/edit/".concat(e._id),children:e.name})}),(0,x.jsx)("td",{children:e.extension}),(0,x.jsx)("td",{children:e.email}),(0,x.jsx)("td",{children:e.title}),(0,x.jsx)("td",{children:e.dateHired.toDateString()}),(0,x.jsx)("td",{children:e.currentlyEmployed?"Yes":"No"}),(0,x.jsxs)("td",{children:[(0,x.jsxs)(m.A,{show:this.state.modalVisible,onHide:this.toggleModal,centered:!0,children:[(0,x.jsx)(m.A.Header,{closeButton:!0,children:(0,x.jsx)(m.A.Title,{children:"Delete Employee?"})}),(0,x.jsx)(m.A.Body,{children:"Are you sure you want to delete this employee?"}),(0,x.jsxs)(m.A.Footer,{children:[(0,x.jsx)(p.A,{variant:"danger",size:"sm",onClick:this.toggleModal,children:"Cancel"}),(0,x.jsx)(p.A,{type:"submit",variant:"success",size:"sm",onClick:this.onDeleteClick,children:"Yes"})]})]}),(0,x.jsx)(p.A,{variant:"danger",size:"sm",onClick:this.toggleModal,children:"X"})]})]})})}}class g extends s.Component{constructor(){super(),this.state={employees:[]},this.createEmployee=this.createEmployee.bind(this),this.deleteEmployee=this.deleteEmployee.bind(this)}componentDidMount(){this.loadData()}loadData(){fetch("/api/employees").then((e=>e.json())).then((e=>{e.employees.forEach((e=>{e.dateHired=new Date(e.dateHired)})),this.setState({employees:e.employees})})).catch((e=>{console.log(e)}))}createEmployee(e){fetch("/api/employees",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{e.employee.dateHired=new Date(e.employee.dateHired);var t=this.state.employees.concat(e.employee);this.setState({employees:t}),console.log("Total count of employees:",t.length)})).catch((e=>{console.log(e)}))}deleteEmployee(e){fetch("/api/employees/".concat(e),{method:"DELETE"}).then((e=>{e.ok?this.loadData():console.log("Failed to delete employee")}))}render(){return(0,x.jsxs)(s.Fragment,{children:[(0,x.jsx)(f,{createEmployee:this.createEmployee}),(0,x.jsx)(j,{}),(0,x.jsx)(b,{employees:this.state.employees,deleteEmployee:this.deleteEmployee})]})}}function E(){return(0,x.jsxs)(a.A,{children:[(0,x.jsx)(a.A.Header,{as:"h5",children:"Filter"}),(0,x.jsx)(a.A.Body,{children:(0,x.jsx)(a.A.Text,{children:"This is a placeholder for employee reports."})})]})}var S=l(2735);class C extends s.Component{constructor(){super(),this.state={employee:[],alertVisible:!1,alertColor:"success",alertMessage:""},this.handleSubmit=this.handleSubmit.bind(this)}componentDidMount(){this.loadData()}loadData(){var e=window.location.pathname.split("/")[2];fetch("/api/employees/".concat(e)).then((e=>e.json())).then((e=>{e.employee.dateHired=new Date(e.employee.dateHired),this.setState({employee:e.employee})})).catch((e=>{console.log(e)}))}handleSubmit(e){e.preventDefault();var t=document.forms.employeeUpdate,l=t.id.value,s=t.name.value,i=t.extension.value,n=t.email.value,r=t.title.value,o=t.currentlyEmployed.checked,d="/api/employees/".concat(l);fetch(d,{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify({name:s,extension:i,email:n,title:r,currentlyEmployed:o})}).then((e=>e.json())).then((e=>{this.setState({alertVisible:!0,alertMessage:e.msg})}))}render(){return(0,x.jsxs)(a.A,{children:[(0,x.jsxs)(a.A.Header,{as:"h5",children:["Edit ",this.state.employee.name]}),(0,x.jsx)(a.A.Body,{children:(0,x.jsx)(a.A.Text,{children:(0,x.jsx)(u.A,{fluid:!0,children:(0,x.jsxs)("form",{name:"employeeUpdate",onSubmit:this.handleSubmit,children:[(0,x.jsxs)(y.A,{children:[(0,x.jsx)(A.A,{md:2,children:"ID:"}),(0,x.jsx)(A.A,{md:"auto",children:(0,x.jsx)("input",{type:"text",name:"id",readOnly:"readOnly",defaultValue:this.state.employee._id})})]}),(0,x.jsxs)(y.A,{children:[(0,x.jsx)(A.A,{md:2,children:"Name:"}),(0,x.jsx)(A.A,{md:"auto",children:(0,x.jsx)("input",{type:"text",name:"name",defaultValue:this.state.employee.name})})]}),(0,x.jsxs)(y.A,{children:[(0,x.jsx)(A.A,{md:2,children:"Extension:"}),(0,x.jsx)(A.A,{md:"auto",children:(0,x.jsx)("input",{type:"text",name:"extension",defaultValue:this.state.employee.extension})})]}),(0,x.jsxs)(y.A,{children:[(0,x.jsx)(A.A,{md:2,children:"Email:"}),(0,x.jsx)(A.A,{md:"auto",children:(0,x.jsx)("input",{type:"text",name:"email",defaultValue:this.state.employee.email})})]}),(0,x.jsxs)(y.A,{children:[(0,x.jsx)(A.A,{md:2,children:"Title:"}),(0,x.jsx)(A.A,{md:"auto",children:(0,x.jsx)("input",{type:"text",name:"title",defaultValue:this.state.employee.title})})]}),(0,x.jsxs)(y.A,{children:[(0,x.jsx)(A.A,{md:2,children:"Date Hired:"}),(0,x.jsx)(A.A,{md:"auto",children:(0,x.jsx)("input",{type:"text",name:"dateHired",readOnly:"readOnly",defaultValue:this.state.employee.dateHired})})]}),(0,x.jsxs)(y.A,{children:[(0,x.jsx)(A.A,{md:2,children:"Currently Employed?"}),(0,x.jsx)(A.A,{md:"auto",children:(0,x.jsx)("input",{type:"checkbox",name:"currentlyEmployed",defaultChecked:this.state.employee.currentlyEmployed})})]}),(0,x.jsx)(p.A,{type:"submit",variant:"primary",size:"sm",className:"my-3",children:"Update Employee"}),(0,x.jsx)(S.A,{variant:this.state.alertColor,show:this.state.alertVisible,onClose:e=>this.setState({alertVisible:!1}),dismissible:!0,children:this.state.alertMessage})]})})})})]})}}function O(){var e=()=>(0,x.jsx)("h1",{children:"Page Not Found"});return(0,x.jsxs)(d.BV,{children:[(0,x.jsx)(d.qh,{path:"/employees",element:(0,x.jsx)(g,{})}),(0,x.jsx)(d.qh,{path:"/edit/:id",element:(0,x.jsx)(C,{})}),(0,x.jsx)(d.qh,{path:"/report",element:(0,x.jsx)(E,{})}),(0,x.jsx)(d.qh,{path:"/",element:(0,x.jsx)(d.C5,{replace:!0,to:"/employees"})}),(0,x.jsx)(d.qh,{path:"*",element:(0,x.jsx)(e,{})})]})}function M(){return(0,x.jsxs)(r.A,{bg:"dark",variant:"dark",children:[(0,x.jsx)(r.A.Brand,{href:"/",children:"Employee Management Application"}),(0,x.jsxs)(o.A,{children:[(0,x.jsx)(o.A.Link,{href:"/employees",children:"All Employees"}),(0,x.jsx)(o.A.Link,{href:"/report",children:"Reports"})]})]})}function w(){return(0,x.jsxs)("div",{children:[(0,x.jsx)(M,{}),(0,x.jsx)(O,{})]})}(0,n.H)(document.getElementById("content")).render((0,x.jsx)(i.Kd,{children:(0,x.jsx)(s.StrictMode,{children:(0,x.jsx)(w,{})})}))}},i={};function n(e){var t=i[e];if(void 0!==t)return t.exports;var l=i[e]={exports:{}};return s[e](l,l.exports,n),l.exports}n.m=s,e=[],n.O=(t,l,s,i)=>{if(!l){var r=1/0;for(h=0;h<e.length;h++){for(var[l,s,i]=e[h],o=!0,d=0;d<l.length;d++)(!1&i||r>=i)&&Object.keys(n.O).every((e=>n.O[e](l[d])))?l.splice(d--,1):(o=!1,i<r&&(r=i));if(o){e.splice(h--,1);var a=s();void 0!==a&&(t=a)}}return t}i=i||0;for(var h=e.length;h>0&&e[h-1][2]>i;h--)e[h]=e[h-1];e[h]=[l,s,i]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},l=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,n.t=function(e,s){if(1&s&&(e=this(e)),8&s)return e;if("object"==typeof e&&e){if(4&s&&e.__esModule)return e;if(16&s&&"function"==typeof e.then)return e}var i=Object.create(null);n.r(i);var r={};t=t||[null,l({}),l([]),l(l)];for(var o=2&s&&e;"object"==typeof o&&!~t.indexOf(o);o=l(o))Object.getOwnPropertyNames(o).forEach((t=>r[t]=()=>e[t]));return r.default=()=>e,n.d(i,r),i},n.d=(e,t)=>{for(var l in t)n.o(t,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={834:0};n.O.j=t=>0===e[t];var t=(t,l)=>{var s,i,[r,o,d]=l,a=0;if(r.some((t=>0!==e[t]))){for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(d)var h=d(n)}for(t&&t(l);a<r.length;a++)i=r[a],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(h)},l=self.webpackChunkmodule01=self.webpackChunkmodule01||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var r=n.O(void 0,[121],(()=>n(2767)));r=n.O(r)})();
//# sourceMappingURL=employees.bundle.js.map